<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /*
            统计一篇英文文章不合法的次数
            不合法规则：
                1.句子首字母没有大写
                2.不是开头却大写了

                例："This won iz correkt. It has, No Mistakes et Oll. But there are two BIG mistakes in this sentence. and here is one more." 
                 应该返回3
                 解释如下：BIG 的I和G大写了 两处错误 和最后一个句子中的and a没有大写
        */
        const count = function (s) {
            var arr = s.split(".");
            var count = 0;
            for (var i = 0, len = arr.length; i < len; i++) {
                if (arr[i].length === 0) continue;
                arr[i] = arr[i].trim();
                if (arr[i][0] !== arr[i][0].toUpperCase() && /[a-zA-Z]/.test(arr[i][0])) {
                    count++;
                }
                for (var j = 1; j < arr[i].length; j++) {
                    if (arr[i][j] === arr[i][j].toUpperCase() && /[a-zA-Z]/.test(arr[i][j])) {
                        if (arr[i][j - 1] !== " ") {
                            count++;
                        }
                    }
                }
            }
            return count;
        }
    </script>
</body>

</html>